{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/ruiha/Downloads/CodeToGive/frontend/node_modules/@babel/runtime/regenerator/index.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _isAndroid = _interopRequireDefault(require(\"./isAndroid\"));\nvar _utils = require(\"./utils\");\nvar _NativeSpeechRecognition = require(\"./NativeSpeechRecognition\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nvar RecognitionManager = /*#__PURE__*/function () {\n  function RecognitionManager(SpeechRecognition) {\n    _classCallCheck(this, RecognitionManager);\n    this.recognition = null;\n    this.pauseAfterDisconnect = false;\n    this.interimTranscript = '';\n    this.finalTranscript = '';\n    this.listening = false;\n    this.isMicrophoneAvailable = true;\n    this.subscribers = {};\n    this.onStopListening = function () {};\n    this.previousResultWasFinalOnly = false;\n    this.resetTranscript = this.resetTranscript.bind(this);\n    this.startListening = this.startListening.bind(this);\n    this.stopListening = this.stopListening.bind(this);\n    this.abortListening = this.abortListening.bind(this);\n    this.setSpeechRecognition = this.setSpeechRecognition.bind(this);\n    this.disableRecognition = this.disableRecognition.bind(this);\n    this.setSpeechRecognition(SpeechRecognition);\n    if ((0, _isAndroid[\"default\"])()) {\n      this.updateFinalTranscript = (0, _utils.debounce)(this.updateFinalTranscript, 250, true);\n    }\n  }\n  _createClass(RecognitionManager, [{\n    key: \"setSpeechRecognition\",\n    value: function setSpeechRecognition(SpeechRecognition) {\n      var browserSupportsRecogniser = !!SpeechRecognition && ((0, _NativeSpeechRecognition.isNative)(SpeechRecognition) || (0, _utils.browserSupportsPolyfills)());\n      if (browserSupportsRecogniser) {\n        this.disableRecognition();\n        this.recognition = new SpeechRecognition();\n        this.recognition.continuous = false;\n        this.recognition.interimResults = true;\n        this.recognition.onresult = this.updateTranscript.bind(this);\n        this.recognition.onend = this.onRecognitionDisconnect.bind(this);\n        this.recognition.onerror = this.onError.bind(this);\n      }\n      this.emitBrowserSupportsSpeechRecognitionChange(browserSupportsRecogniser);\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(id, callbacks) {\n      this.subscribers[id] = callbacks;\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(id) {\n      delete this.subscribers[id];\n    }\n  }, {\n    key: \"emitListeningChange\",\n    value: function emitListeningChange(listening) {\n      var _this = this;\n      this.listening = listening;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onListeningChange = _this.subscribers[id].onListeningChange;\n        onListeningChange(listening);\n      });\n    }\n  }, {\n    key: \"emitMicrophoneAvailabilityChange\",\n    value: function emitMicrophoneAvailabilityChange(isMicrophoneAvailable) {\n      var _this2 = this;\n      this.isMicrophoneAvailable = isMicrophoneAvailable;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onMicrophoneAvailabilityChange = _this2.subscribers[id].onMicrophoneAvailabilityChange;\n        onMicrophoneAvailabilityChange(isMicrophoneAvailable);\n      });\n    }\n  }, {\n    key: \"emitTranscriptChange\",\n    value: function emitTranscriptChange(interimTranscript, finalTranscript) {\n      var _this3 = this;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onTranscriptChange = _this3.subscribers[id].onTranscriptChange;\n        onTranscriptChange(interimTranscript, finalTranscript);\n      });\n    }\n  }, {\n    key: \"emitClearTranscript\",\n    value: function emitClearTranscript() {\n      var _this4 = this;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onClearTranscript = _this4.subscribers[id].onClearTranscript;\n        onClearTranscript();\n      });\n    }\n  }, {\n    key: \"emitBrowserSupportsSpeechRecognitionChange\",\n    value: function emitBrowserSupportsSpeechRecognitionChange(browserSupportsSpeechRecognitionChange) {\n      var _this5 = this;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var _this5$subscribers$id = _this5.subscribers[id],\n          onBrowserSupportsSpeechRecognitionChange = _this5$subscribers$id.onBrowserSupportsSpeechRecognitionChange,\n          onBrowserSupportsContinuousListeningChange = _this5$subscribers$id.onBrowserSupportsContinuousListeningChange;\n        onBrowserSupportsSpeechRecognitionChange(browserSupportsSpeechRecognitionChange);\n        onBrowserSupportsContinuousListeningChange(browserSupportsSpeechRecognitionChange);\n      });\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect(disconnectType) {\n      if (this.recognition && this.listening) {\n        switch (disconnectType) {\n          case 'ABORT':\n            this.pauseAfterDisconnect = true;\n            this.abort();\n            break;\n          case 'RESET':\n            this.pauseAfterDisconnect = false;\n            this.abort();\n            break;\n          case 'STOP':\n          default:\n            this.pauseAfterDisconnect = true;\n            this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"disableRecognition\",\n    value: function disableRecognition() {\n      if (this.recognition) {\n        this.recognition.onresult = function () {};\n        this.recognition.onend = function () {};\n        this.recognition.onerror = function () {};\n        if (this.listening) {\n          this.stopListening();\n        }\n      }\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(event) {\n      if (event && event.error && event.error === 'not-allowed') {\n        this.emitMicrophoneAvailabilityChange(false);\n        this.disableRecognition();\n      }\n    }\n  }, {\n    key: \"onRecognitionDisconnect\",\n    value: function onRecognitionDisconnect() {\n      this.onStopListening();\n      this.listening = false;\n      if (this.pauseAfterDisconnect) {\n        this.emitListeningChange(false);\n      } else if (this.recognition) {\n        if (this.recognition.continuous) {\n          this.startListening({\n            continuous: this.recognition.continuous\n          });\n        } else {\n          this.emitListeningChange(false);\n        }\n      }\n      this.pauseAfterDisconnect = false;\n    }\n  }, {\n    key: \"updateTranscript\",\n    value: function updateTranscript(_ref) {\n      var results = _ref.results,\n        resultIndex = _ref.resultIndex;\n      var currentIndex = resultIndex === undefined ? results.length - 1 : resultIndex;\n      this.interimTranscript = '';\n      this.finalTranscript = '';\n      for (var i = currentIndex; i < results.length; ++i) {\n        if (results[i].isFinal && (!(0, _isAndroid[\"default\"])() || results[i][0].confidence > 0)) {\n          this.updateFinalTranscript(results[i][0].transcript);\n        } else {\n          this.interimTranscript = (0, _utils.concatTranscripts)(this.interimTranscript, results[i][0].transcript);\n        }\n      }\n      var isDuplicateResult = false;\n      if (this.interimTranscript === '' && this.finalTranscript !== '') {\n        if (this.previousResultWasFinalOnly) {\n          isDuplicateResult = true;\n        }\n        this.previousResultWasFinalOnly = true;\n      } else {\n        this.previousResultWasFinalOnly = false;\n      }\n      if (!isDuplicateResult) {\n        this.emitTranscriptChange(this.interimTranscript, this.finalTranscript);\n      }\n    }\n  }, {\n    key: \"updateFinalTranscript\",\n    value: function updateFinalTranscript(newFinalTranscript) {\n      this.finalTranscript = (0, _utils.concatTranscripts)(this.finalTranscript, newFinalTranscript);\n    }\n  }, {\n    key: \"resetTranscript\",\n    value: function resetTranscript() {\n      this.disconnect('RESET');\n    }\n  }, {\n    key: \"startListening\",\n    value: function () {\n      var _startListening = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _ref2,\n          _ref2$continuous,\n          continuous,\n          language,\n          isContinuousChanged,\n          isLanguageChanged,\n          _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _ref2 = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, _ref2$continuous = _ref2.continuous, continuous = _ref2$continuous === void 0 ? false : _ref2$continuous, language = _ref2.language;\n                if (this.recognition) {\n                  _context.next = 3;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 3:\n                isContinuousChanged = continuous !== this.recognition.continuous;\n                isLanguageChanged = language && language !== this.recognition.lang;\n                if (!(isContinuousChanged || isLanguageChanged)) {\n                  _context.next = 11;\n                  break;\n                }\n                if (!this.listening) {\n                  _context.next = 9;\n                  break;\n                }\n                _context.next = 9;\n                return this.stopListening();\n              case 9:\n                this.recognition.continuous = isContinuousChanged ? continuous : this.recognition.continuous;\n                this.recognition.lang = isLanguageChanged ? language : this.recognition.lang;\n              case 11:\n                if (this.listening) {\n                  _context.next = 22;\n                  break;\n                }\n                if (!this.recognition.continuous) {\n                  this.resetTranscript();\n                  this.emitClearTranscript();\n                }\n                _context.prev = 13;\n                _context.next = 16;\n                return this.start();\n              case 16:\n                this.emitListeningChange(true);\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](13);\n\n                // DOMExceptions indicate a redundant microphone start - safe to swallow\n                if (!(_context.t0 instanceof DOMException)) {\n                  this.emitMicrophoneAvailabilityChange(false);\n                }\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[13, 19]]);\n      }));\n      function startListening() {\n        return _startListening.apply(this, arguments);\n      }\n      return startListening;\n    }()\n  }, {\n    key: \"abortListening\",\n    value: function () {\n      var _abortListening = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _this6 = this;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.disconnect('ABORT');\n                this.emitListeningChange(false);\n                _context2.next = 4;\n                return new Promise(function (resolve) {\n                  _this6.onStopListening = resolve;\n                });\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function abortListening() {\n        return _abortListening.apply(this, arguments);\n      }\n      return abortListening;\n    }()\n  }, {\n    key: \"stopListening\",\n    value: function () {\n      var _stopListening = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var _this7 = this;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.disconnect('STOP');\n                this.emitListeningChange(false);\n                _context3.next = 4;\n                return new Promise(function (resolve) {\n                  _this7.onStopListening = resolve;\n                });\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function stopListening() {\n        return _stopListening.apply(this, arguments);\n      }\n      return stopListening;\n    }()\n  }, {\n    key: \"getRecognition\",\n    value: function getRecognition() {\n      return this.recognition;\n    }\n  }, {\n    key: \"start\",\n    value: function () {\n      var _start = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.recognition && !this.listening)) {\n                  _context4.next = 4;\n                  break;\n                }\n                _context4.next = 3;\n                return this.recognition.start();\n              case 3:\n                this.listening = true;\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function start() {\n        return _start.apply(this, arguments);\n      }\n      return start;\n    }()\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.recognition && this.listening) {\n        this.recognition.stop();\n        this.listening = false;\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (this.recognition && this.listening) {\n        this.recognition.abort();\n        this.listening = false;\n      }\n    }\n  }]);\n  return RecognitionManager;\n}();\nexports[\"default\"] = RecognitionManager;","map":{"version":3,"names":["_regeneratorRuntime","require","Object","defineProperty","exports","value","_isAndroid","_interopRequireDefault","_utils","_NativeSpeechRecognition","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","prototype","RecognitionManager","SpeechRecognition","recognition","pauseAfterDisconnect","interimTranscript","finalTranscript","listening","isMicrophoneAvailable","subscribers","onStopListening","previousResultWasFinalOnly","resetTranscript","bind","startListening","stopListening","abortListening","setSpeechRecognition","disableRecognition","updateFinalTranscript","debounce","browserSupportsRecogniser","isNative","browserSupportsPolyfills","continuous","interimResults","onresult","updateTranscript","onend","onRecognitionDisconnect","onerror","onError","emitBrowserSupportsSpeechRecognitionChange","subscribe","id","callbacks","unsubscribe","emitListeningChange","_this","keys","forEach","onListeningChange","emitMicrophoneAvailabilityChange","_this2","onMicrophoneAvailabilityChange","emitTranscriptChange","_this3","onTranscriptChange","emitClearTranscript","_this4","onClearTranscript","browserSupportsSpeechRecognitionChange","_this5","_this5$subscribers$id","onBrowserSupportsSpeechRecognitionChange","onBrowserSupportsContinuousListeningChange","disconnect","disconnectType","abort","stop","event","_ref","results","resultIndex","currentIndex","isFinal","confidence","transcript","concatTranscripts","isDuplicateResult","newFinalTranscript","_startListening","mark","_callee","_ref2","_ref2$continuous","language","isContinuousChanged","isLanguageChanged","_args","wrap","_callee$","_context","prev","next","abrupt","lang","start","t0","DOMException","_abortListening","_callee2","_this6","_callee2$","_context2","_stopListening","_callee3","_this7","_callee3$","_context3","getRecognition","_start","_callee4","_callee4$","_context4"],"sources":["C:/Users/ruiha/Downloads/CodeToGive/frontend/node_modules/react-speech-recognition/lib/RecognitionManager.js"],"sourcesContent":["\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = void 0;\r\n\r\nvar _isAndroid = _interopRequireDefault(require(\"./isAndroid\"));\r\n\r\nvar _utils = require(\"./utils\");\r\n\r\nvar _NativeSpeechRecognition = require(\"./NativeSpeechRecognition\");\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\r\n\r\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\r\n\r\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nvar RecognitionManager = /*#__PURE__*/function () {\r\n  function RecognitionManager(SpeechRecognition) {\r\n    _classCallCheck(this, RecognitionManager);\r\n\r\n    this.recognition = null;\r\n    this.pauseAfterDisconnect = false;\r\n    this.interimTranscript = '';\r\n    this.finalTranscript = '';\r\n    this.listening = false;\r\n    this.isMicrophoneAvailable = true;\r\n    this.subscribers = {};\r\n\r\n    this.onStopListening = function () {};\r\n\r\n    this.previousResultWasFinalOnly = false;\r\n    this.resetTranscript = this.resetTranscript.bind(this);\r\n    this.startListening = this.startListening.bind(this);\r\n    this.stopListening = this.stopListening.bind(this);\r\n    this.abortListening = this.abortListening.bind(this);\r\n    this.setSpeechRecognition = this.setSpeechRecognition.bind(this);\r\n    this.disableRecognition = this.disableRecognition.bind(this);\r\n    this.setSpeechRecognition(SpeechRecognition);\r\n\r\n    if ((0, _isAndroid[\"default\"])()) {\r\n      this.updateFinalTranscript = (0, _utils.debounce)(this.updateFinalTranscript, 250, true);\r\n    }\r\n  }\r\n\r\n  _createClass(RecognitionManager, [{\r\n    key: \"setSpeechRecognition\",\r\n    value: function setSpeechRecognition(SpeechRecognition) {\r\n      var browserSupportsRecogniser = !!SpeechRecognition && ((0, _NativeSpeechRecognition.isNative)(SpeechRecognition) || (0, _utils.browserSupportsPolyfills)());\r\n\r\n      if (browserSupportsRecogniser) {\r\n        this.disableRecognition();\r\n        this.recognition = new SpeechRecognition();\r\n        this.recognition.continuous = false;\r\n        this.recognition.interimResults = true;\r\n        this.recognition.onresult = this.updateTranscript.bind(this);\r\n        this.recognition.onend = this.onRecognitionDisconnect.bind(this);\r\n        this.recognition.onerror = this.onError.bind(this);\r\n      }\r\n\r\n      this.emitBrowserSupportsSpeechRecognitionChange(browserSupportsRecogniser);\r\n    }\r\n  }, {\r\n    key: \"subscribe\",\r\n    value: function subscribe(id, callbacks) {\r\n      this.subscribers[id] = callbacks;\r\n    }\r\n  }, {\r\n    key: \"unsubscribe\",\r\n    value: function unsubscribe(id) {\r\n      delete this.subscribers[id];\r\n    }\r\n  }, {\r\n    key: \"emitListeningChange\",\r\n    value: function emitListeningChange(listening) {\r\n      var _this = this;\r\n\r\n      this.listening = listening;\r\n      Object.keys(this.subscribers).forEach(function (id) {\r\n        var onListeningChange = _this.subscribers[id].onListeningChange;\r\n        onListeningChange(listening);\r\n      });\r\n    }\r\n  }, {\r\n    key: \"emitMicrophoneAvailabilityChange\",\r\n    value: function emitMicrophoneAvailabilityChange(isMicrophoneAvailable) {\r\n      var _this2 = this;\r\n\r\n      this.isMicrophoneAvailable = isMicrophoneAvailable;\r\n      Object.keys(this.subscribers).forEach(function (id) {\r\n        var onMicrophoneAvailabilityChange = _this2.subscribers[id].onMicrophoneAvailabilityChange;\r\n        onMicrophoneAvailabilityChange(isMicrophoneAvailable);\r\n      });\r\n    }\r\n  }, {\r\n    key: \"emitTranscriptChange\",\r\n    value: function emitTranscriptChange(interimTranscript, finalTranscript) {\r\n      var _this3 = this;\r\n\r\n      Object.keys(this.subscribers).forEach(function (id) {\r\n        var onTranscriptChange = _this3.subscribers[id].onTranscriptChange;\r\n        onTranscriptChange(interimTranscript, finalTranscript);\r\n      });\r\n    }\r\n  }, {\r\n    key: \"emitClearTranscript\",\r\n    value: function emitClearTranscript() {\r\n      var _this4 = this;\r\n\r\n      Object.keys(this.subscribers).forEach(function (id) {\r\n        var onClearTranscript = _this4.subscribers[id].onClearTranscript;\r\n        onClearTranscript();\r\n      });\r\n    }\r\n  }, {\r\n    key: \"emitBrowserSupportsSpeechRecognitionChange\",\r\n    value: function emitBrowserSupportsSpeechRecognitionChange(browserSupportsSpeechRecognitionChange) {\r\n      var _this5 = this;\r\n\r\n      Object.keys(this.subscribers).forEach(function (id) {\r\n        var _this5$subscribers$id = _this5.subscribers[id],\r\n            onBrowserSupportsSpeechRecognitionChange = _this5$subscribers$id.onBrowserSupportsSpeechRecognitionChange,\r\n            onBrowserSupportsContinuousListeningChange = _this5$subscribers$id.onBrowserSupportsContinuousListeningChange;\r\n        onBrowserSupportsSpeechRecognitionChange(browserSupportsSpeechRecognitionChange);\r\n        onBrowserSupportsContinuousListeningChange(browserSupportsSpeechRecognitionChange);\r\n      });\r\n    }\r\n  }, {\r\n    key: \"disconnect\",\r\n    value: function disconnect(disconnectType) {\r\n      if (this.recognition && this.listening) {\r\n        switch (disconnectType) {\r\n          case 'ABORT':\r\n            this.pauseAfterDisconnect = true;\r\n            this.abort();\r\n            break;\r\n\r\n          case 'RESET':\r\n            this.pauseAfterDisconnect = false;\r\n            this.abort();\r\n            break;\r\n\r\n          case 'STOP':\r\n          default:\r\n            this.pauseAfterDisconnect = true;\r\n            this.stop();\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: \"disableRecognition\",\r\n    value: function disableRecognition() {\r\n      if (this.recognition) {\r\n        this.recognition.onresult = function () {};\r\n\r\n        this.recognition.onend = function () {};\r\n\r\n        this.recognition.onerror = function () {};\r\n\r\n        if (this.listening) {\r\n          this.stopListening();\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: \"onError\",\r\n    value: function onError(event) {\r\n      if (event && event.error && event.error === 'not-allowed') {\r\n        this.emitMicrophoneAvailabilityChange(false);\r\n        this.disableRecognition();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"onRecognitionDisconnect\",\r\n    value: function onRecognitionDisconnect() {\r\n      this.onStopListening();\r\n      this.listening = false;\r\n\r\n      if (this.pauseAfterDisconnect) {\r\n        this.emitListeningChange(false);\r\n      } else if (this.recognition) {\r\n        if (this.recognition.continuous) {\r\n          this.startListening({\r\n            continuous: this.recognition.continuous\r\n          });\r\n        } else {\r\n          this.emitListeningChange(false);\r\n        }\r\n      }\r\n\r\n      this.pauseAfterDisconnect = false;\r\n    }\r\n  }, {\r\n    key: \"updateTranscript\",\r\n    value: function updateTranscript(_ref) {\r\n      var results = _ref.results,\r\n          resultIndex = _ref.resultIndex;\r\n      var currentIndex = resultIndex === undefined ? results.length - 1 : resultIndex;\r\n      this.interimTranscript = '';\r\n      this.finalTranscript = '';\r\n\r\n      for (var i = currentIndex; i < results.length; ++i) {\r\n        if (results[i].isFinal && (!(0, _isAndroid[\"default\"])() || results[i][0].confidence > 0)) {\r\n          this.updateFinalTranscript(results[i][0].transcript);\r\n        } else {\r\n          this.interimTranscript = (0, _utils.concatTranscripts)(this.interimTranscript, results[i][0].transcript);\r\n        }\r\n      }\r\n\r\n      var isDuplicateResult = false;\r\n\r\n      if (this.interimTranscript === '' && this.finalTranscript !== '') {\r\n        if (this.previousResultWasFinalOnly) {\r\n          isDuplicateResult = true;\r\n        }\r\n\r\n        this.previousResultWasFinalOnly = true;\r\n      } else {\r\n        this.previousResultWasFinalOnly = false;\r\n      }\r\n\r\n      if (!isDuplicateResult) {\r\n        this.emitTranscriptChange(this.interimTranscript, this.finalTranscript);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"updateFinalTranscript\",\r\n    value: function updateFinalTranscript(newFinalTranscript) {\r\n      this.finalTranscript = (0, _utils.concatTranscripts)(this.finalTranscript, newFinalTranscript);\r\n    }\r\n  }, {\r\n    key: \"resetTranscript\",\r\n    value: function resetTranscript() {\r\n      this.disconnect('RESET');\r\n    }\r\n  }, {\r\n    key: \"startListening\",\r\n    value: function () {\r\n      var _startListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\r\n        var _ref2,\r\n            _ref2$continuous,\r\n            continuous,\r\n            language,\r\n            isContinuousChanged,\r\n            isLanguageChanged,\r\n            _args = arguments;\r\n\r\n        return regeneratorRuntime.wrap(function _callee$(_context) {\r\n          while (1) {\r\n            switch (_context.prev = _context.next) {\r\n              case 0:\r\n                _ref2 = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, _ref2$continuous = _ref2.continuous, continuous = _ref2$continuous === void 0 ? false : _ref2$continuous, language = _ref2.language;\r\n\r\n                if (this.recognition) {\r\n                  _context.next = 3;\r\n                  break;\r\n                }\r\n\r\n                return _context.abrupt(\"return\");\r\n\r\n              case 3:\r\n                isContinuousChanged = continuous !== this.recognition.continuous;\r\n                isLanguageChanged = language && language !== this.recognition.lang;\r\n\r\n                if (!(isContinuousChanged || isLanguageChanged)) {\r\n                  _context.next = 11;\r\n                  break;\r\n                }\r\n\r\n                if (!this.listening) {\r\n                  _context.next = 9;\r\n                  break;\r\n                }\r\n\r\n                _context.next = 9;\r\n                return this.stopListening();\r\n\r\n              case 9:\r\n                this.recognition.continuous = isContinuousChanged ? continuous : this.recognition.continuous;\r\n                this.recognition.lang = isLanguageChanged ? language : this.recognition.lang;\r\n\r\n              case 11:\r\n                if (this.listening) {\r\n                  _context.next = 22;\r\n                  break;\r\n                }\r\n\r\n                if (!this.recognition.continuous) {\r\n                  this.resetTranscript();\r\n                  this.emitClearTranscript();\r\n                }\r\n\r\n                _context.prev = 13;\r\n                _context.next = 16;\r\n                return this.start();\r\n\r\n              case 16:\r\n                this.emitListeningChange(true);\r\n                _context.next = 22;\r\n                break;\r\n\r\n              case 19:\r\n                _context.prev = 19;\r\n                _context.t0 = _context[\"catch\"](13);\r\n\r\n                // DOMExceptions indicate a redundant microphone start - safe to swallow\r\n                if (!(_context.t0 instanceof DOMException)) {\r\n                  this.emitMicrophoneAvailabilityChange(false);\r\n                }\r\n\r\n              case 22:\r\n              case \"end\":\r\n                return _context.stop();\r\n            }\r\n          }\r\n        }, _callee, this, [[13, 19]]);\r\n      }));\r\n\r\n      function startListening() {\r\n        return _startListening.apply(this, arguments);\r\n      }\r\n\r\n      return startListening;\r\n    }()\r\n  }, {\r\n    key: \"abortListening\",\r\n    value: function () {\r\n      var _abortListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\r\n        var _this6 = this;\r\n\r\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\r\n          while (1) {\r\n            switch (_context2.prev = _context2.next) {\r\n              case 0:\r\n                this.disconnect('ABORT');\r\n                this.emitListeningChange(false);\r\n                _context2.next = 4;\r\n                return new Promise(function (resolve) {\r\n                  _this6.onStopListening = resolve;\r\n                });\r\n\r\n              case 4:\r\n              case \"end\":\r\n                return _context2.stop();\r\n            }\r\n          }\r\n        }, _callee2, this);\r\n      }));\r\n\r\n      function abortListening() {\r\n        return _abortListening.apply(this, arguments);\r\n      }\r\n\r\n      return abortListening;\r\n    }()\r\n  }, {\r\n    key: \"stopListening\",\r\n    value: function () {\r\n      var _stopListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\r\n        var _this7 = this;\r\n\r\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\r\n          while (1) {\r\n            switch (_context3.prev = _context3.next) {\r\n              case 0:\r\n                this.disconnect('STOP');\r\n                this.emitListeningChange(false);\r\n                _context3.next = 4;\r\n                return new Promise(function (resolve) {\r\n                  _this7.onStopListening = resolve;\r\n                });\r\n\r\n              case 4:\r\n              case \"end\":\r\n                return _context3.stop();\r\n            }\r\n          }\r\n        }, _callee3, this);\r\n      }));\r\n\r\n      function stopListening() {\r\n        return _stopListening.apply(this, arguments);\r\n      }\r\n\r\n      return stopListening;\r\n    }()\r\n  }, {\r\n    key: \"getRecognition\",\r\n    value: function getRecognition() {\r\n      return this.recognition;\r\n    }\r\n  }, {\r\n    key: \"start\",\r\n    value: function () {\r\n      var _start = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\r\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\r\n          while (1) {\r\n            switch (_context4.prev = _context4.next) {\r\n              case 0:\r\n                if (!(this.recognition && !this.listening)) {\r\n                  _context4.next = 4;\r\n                  break;\r\n                }\r\n\r\n                _context4.next = 3;\r\n                return this.recognition.start();\r\n\r\n              case 3:\r\n                this.listening = true;\r\n\r\n              case 4:\r\n              case \"end\":\r\n                return _context4.stop();\r\n            }\r\n          }\r\n        }, _callee4, this);\r\n      }));\r\n\r\n      function start() {\r\n        return _start.apply(this, arguments);\r\n      }\r\n\r\n      return start;\r\n    }()\r\n  }, {\r\n    key: \"stop\",\r\n    value: function stop() {\r\n      if (this.recognition && this.listening) {\r\n        this.recognition.stop();\r\n        this.listening = false;\r\n      }\r\n    }\r\n  }, {\r\n    key: \"abort\",\r\n    value: function abort() {\r\n      if (this.recognition && this.listening) {\r\n        this.recognition.abort();\r\n        this.listening = false;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return RecognitionManager;\r\n}();\r\n\r\nexports[\"default\"] = RecognitionManager;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}